unit uViewPicture;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ExtCtrls, ComCtrls, ToolWin;

type
  TViewPicture = class(TForm)
    tbMain: TToolBar;
    ToolButton1: TToolButton;
    imgPicture: TImage;
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
  private
  public
    TypeQSL:integer;
    procedure LoadImage(iType:integer;Path,FileName:string);
  end;

var
  ViewPicture: TViewPicture;

implementation

{$R *.dfm}

procedure TViewPicture.LoadImage(iType:integer;Path,FileName:string);
begin
 TypeQSL:=iType;
 Caption:=FileName;
 if Trim(FileName)='' then exit;
 if FileExists(Path+FileName) then
  begin
   imgPicture.Picture.LoadFromFile(Path+FileName);
   self.ClientWidth:=imgPicture.Picture.Width;
   self.ClientHeight:=imgPicture.Picture.Height+tbMain.Height;
  end
  else
   imgPicture.Picture:=nil;
end;


procedure TViewPicture.FormClose(Sender: TObject; var Action: TCloseAction);
begin
 Action := caFree;
end;

end.
